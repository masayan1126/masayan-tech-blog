---
import Link from "@/components/Link/Link.astro";
import type { HTMLAttributes } from "astro/types";

type Props = HTMLAttributes<"a"> & {
  iconName: string;
};

const { href, iconName } = Astro.props;
---

{
  /* memo: 画面幅に合わせて、アイコンのみか、アイコンとテキストの表示かどうかを切り替えしている */
}

<Link
  color="white"
  {href}
  icon={{ name: iconName, pos: "left" }}
  class={"hidden md:inline-block header-link"}
>
  <slot />
</Link>

<Link
  color="white"
  {href}
  icon={{ name: iconName, pos: "left" }}
  class={"inline-block md:hidden header-link-mobile"}
/>

<style>
  :global(.header-link) {
    @apply px-3 py-2 rounded-lg transition-all duration-200 ease-out;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
  }
  
  :global(.header-link:hover) {
    @apply transform scale-105;
    background: rgba(127, 167, 255, 0.15);
    border: 1px solid rgba(127, 167, 255, 0.3);
    box-shadow: 0 4px 12px rgba(127, 167, 255, 0.2);
  }
  
  :global(.header-link-mobile) {
    @apply px-2 py-2 rounded-full transition-all duration-200 ease-out;
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.15);
  }
  
  :global(.header-link-mobile:hover) {
    @apply transform scale-110;
    background: rgba(127, 167, 255, 0.2);
    border: 1px solid rgba(127, 167, 255, 0.4);
    box-shadow: 0 4px 8px rgba(127, 167, 255, 0.3);
  }
  
  /* 超小画面対応 (439px以下) */
  @media (max-width: 439px) {
    :global(.header-link-mobile) {
      @apply px-1.5 py-1.5;
      min-width: 36px;
      min-height: 36px;
    }
  }
  
  /* 極小画面対応 (360px以下) */
  @media (max-width: 360px) {
    :global(.header-link-mobile) {
      @apply px-1 py-1;
      min-width: 32px;
      min-height: 32px;
    }
  }
</style>
